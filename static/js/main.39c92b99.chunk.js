(this["webpackJsonpgame-123"]=this["webpackJsonpgame-123"]||[]).push([[0],{11:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),o=c(4),r=c.n(o),s=(c(9),c(2)),l=c(0),i=function(e){var t=e.score,c=e.isStarted,a=localStorage.getItem("maxScore")&&localStorage.getItem("maxScore");return Object(l.jsx)("nav",{className:"navbar navbar-light bg-dark",style:{height:"50px"},children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)("a",{className:"navbar-brand text-white",href:"https://github.com/Ksooft",rel:"noopener noreferrer",children:"Github"}),Object(l.jsx)("span",{className:"navbar-brand mb-0 h1 text-white",children:c?t:"1+2=3"}),Object(l.jsxs)("span",{className:"navbar-brand mb-0 fs-5 text-white record",children:["\u0420\u0435\u043a\u043e\u0440\u0434: ",a]})]})})},u=c.p+"static/media/calculate.e55fc469.png",d=function(e){var t=e.num,c=e.handleAnswer;return Object(l.jsxs)("div",{className:"answer",onClick:function(){return c(t)},children:[Object(l.jsx)("div",{className:"answer-bar",children:t}),Object(l.jsx)("div",{className:"answer-text text-white",children:t})]})},m=function(e){var t=e.btnStart;return Object(l.jsx)("button",{type:"button",className:"btn btn-success btn-lg",onClick:t,children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443!"})},h=function(e){var t=e.isStarted,c=e.btnStart;return Object(l.jsx)("div",{className:"start-game ".concat(!t&&"open"),children:Object(l.jsxs)("div",{style:{textAlign:"center"},children:[Object(l.jsx)("div",{className:"h1 text-white pb-5",children:"\u0414\u0443\u043c\u0430\u0435\u0448\u044c \u044d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442\u043e?"}),Object(l.jsx)(m,{btnStart:c})]})})};var b=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(!1),r=Object(s.a)(o,2),m=r[0],b=r[1],j=Object(a.useState)("3-1=?"),f=Object(s.a)(j,2),g=f[0],x=f[1],S=Object(a.useState)(null),v=Object(s.a)(S,2),w=v[0],O=v[1],y=Object(a.useState)(0),p=Object(s.a)(y,2),I=p[0],q=p[1],N=Object(a.useRef)(),L=Object(a.useRef)(),A=Object(a.useRef)(),E=function(e){e!==w||m?e===w||m||C():(b(!0),k(),M(),x(g.replace("?",w)),document.querySelector(".header-game img").classList.add("es"),document.querySelector(".header-game span").classList.add("right"),setTimeout((function(){document.querySelector(".header-example").classList.add("swipe")}),500),setTimeout((function(){document.querySelectorAll(".answer-bar").forEach((function(e){e.style.removeProperty("width")})),L.current&&(clearInterval(L.current),document.querySelectorAll(".answer-text").forEach((function(e){e.classList.remove("half")}))),document.querySelector(".header-game img").classList.remove("es"),document.querySelector(".header-game span").classList.remove("right"),setTimeout((function(){var e=T();console.log(e);var t=e.slice(0,e.length-2),c=g.slice(0,g.length-2);if(t===c||t.split("").reverse().join("")===c.split("").reverse().join("")){for(;e===g;)e=T();x(e)}else x(e);setTimeout((function(){document.querySelector(".header-example").classList.remove("swipe"),A.current=Date.now(),document.querySelectorAll(".answer-bar").forEach((function(e){e.classList.add("animate")}));var e=setInterval((function(){Date.now()-A.current>=3600&&(console.log("\u043d\u0435 \u0443\u0441\u043f\u0435\u043b"),C())}),1);N.current=e;var t=setInterval((function(){var e=window.getComputedStyle(document.querySelector(".answer-block")).width,t=parseInt(e.match(/\d+/)).toFixed(),c=window.getComputedStyle(document.querySelector(".answer-bar")).width;(100*parseInt(c.match(/\d+/))/t).toFixed()<=50&&document.querySelectorAll(".answer-text").forEach((function(e){e.classList.add("half")}))}),1);L.current=t,b(!1)}),300)}),300)}),800))},k=function(){if(I<=22){var e=F(3,5);localStorage.getItem("maxScore")?localStorage.getItem("maxScore")&&I+e>localStorage.getItem("maxScore")&&localStorage.setItem("maxScore",I+e):localStorage.setItem("maxScore",I+e),console.log("1lvl",I,e),q(I+e)}else if(I>22){var t=F(5,8);localStorage.getItem("maxScore")?localStorage.getItem("maxScore")&&I+t>localStorage.getItem("maxScore")&&localStorage.setItem("maxScore",I+t):localStorage.setItem("maxScore",I+t),console.log("2lvl",I,t),q(I+t)}},C=function(){var e=window.getComputedStyle(document.querySelector(".answer-bar")).width;b(!0),document.querySelector(".header-game img").classList.add("wrong"),clearInterval(N.current),document.querySelectorAll(".answer-bar").forEach((function(t){t.classList.remove("animate"),t.style.width=e})),setTimeout((function(){clearInterval(L.current),document.querySelectorAll(".answer-bar").forEach((function(e){e.style.removeProperty("width")})),document.querySelector(".header-game img").classList.remove("wrong"),document.querySelectorAll(".answer-text").forEach((function(e){e.classList.remove("half")})),setTimeout((function(){n(!1),q(0),console.log("\u0438\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430")}),200)}),1500)},T=function(){var e=null,t=null,c=null,a=null,n=null,o="",r="",s="",l="",i="";if(I<=22){for(;-1===[1,2,3].indexOf(e);)t=F(1,3),c=F(1,3),o=1===F(1,2)?"+":"-",r=1===F(1,2)?"+":"-","+"===o?"+"===r?(e=t+c,i="".concat(t,"+").concat(c,"=?")):"-"===r&&(e=t-c,i="".concat(t,"-").concat(c,"=?")):"-"===o&&("+"===r?(e=-t+c,i="-".concat(t,"+").concat(c,"=?")):"-"===r&&(e=-t-c,i="-".concat(t,"-").concat(c,"=?")));O(e)}else if(I>22){for(;-1===[1,2,3].indexOf(e);)t=F(1,3),c=F(1,3),a=F(1,3),o=1===F(1,2)?"+":"-",r=1===F(1,2)?"+":"-",s=1===F(1,2)?"+":"-","+"===o?"+"===r?"+"===s?(e=t+c+a,i="".concat(t,"+").concat(c,"+").concat(a,"=?")):"-"===s&&(e=t+c-a,i="".concat(t,"+").concat(c,"-").concat(a,"=?")):"-"===r&&("+"===s?(e=t-c+a,i="".concat(t,"-").concat(c,"+").concat(a,"=?")):"-"===s&&(e=t-c-a,i="".concat(t,"-").concat(c,"-").concat(a,"=?"))):"-"===o&&("+"===r?"+"===s?(e=-t+c+a,i="-".concat(t,"+").concat(c,"+").concat(a,"=?")):"-"===s&&(e=-t+c-a,i="-".concat(t,"+").concat(c,"-").concat(a,"=?")):"-"===r&&("+"===s?(e=-t-c+a,i="-".concat(t,"-").concat(c,"+").concat(a,"=?")):"-"===s&&(e=-t-c-a,i="-".concat(t,"-").concat(c,"-").concat(a,"=?"))));O(e)}else if(I>=55)for(;-1===[1,2,3].indexOf(e);)t=F(1,3),c=F(1,3),a=F(1,3),n=F(1,3),o=1===F(1,2)?"+":"-",r=1===F(1,2)?"+":"-",s=1===F(1,2)?"+":"-",l=1===F(1,2)?"+":"-","+"===o?"+"===r?"+"===s?"+"===l?(e=t+c+a+n,i="".concat(t,"+").concat(c,"+").concat(a,"+").concat(n,"=?")):"-"===l&&(e=t+c+a-n,i="".concat(t,"+").concat(c,"+").concat(a,"-").concat(n,"=?")):"-"===s&&("+"===l?(e=t+c-a+n,i="".concat(t,"+").concat(c,"-").concat(a,"+").concat(n,"=?")):"-"===l&&(e=t+c-a-n,i="".concat(t,"+").concat(c,"-").concat(a,"-").concat(n,"=?"))):"-"===r&&("+"===s?"+"===l?(e=t-c+a+n,i="".concat(t,"-").concat(c,"+").concat(a,"+").concat(n,"=?")):"-"===l&&(e=t-c+a-n,i="".concat(t,"-").concat(c,"+").concat(a,"-").concat(n,"=?")):"-"===s&&("+"===l?(e=t-c-a+n,i="".concat(t,"-").concat(c,"-").concat(a,"+").concat(n,"=?")):"-"===l&&(e=t-c-a-n,i="".concat(t,"-").concat(c,"-").concat(a,"-").concat(n,"=?")))):"-"===o&&("+"===r?"+"===s?"+"===l?(e=-t+c+a+n,i="-".concat(t,"+").concat(c,"+").concat(a,"+").concat(n,"=?")):"-"===l&&(e=-t+c+a-n,i="-".concat(t,"+").concat(c,"+").concat(a,"-").concat(n,"=?")):"-"===s&&("+"===l?(e=-t+c-a+n,i="-".concat(t,"+").concat(c,"-").concat(a,"+").concat(n,"=?")):"-"===l&&(e=-t+c-a-n,i="-".concat(t,"+").concat(c,"-").concat(a,"-").concat(n,"=?"))):"-"===r&&("+"===s?"+"===l?(e=-t-c+a+n,i="-".concat(t,"-").concat(c,"+").concat(a,"+").concat(n,"=?")):"-"===l&&(e=-t-c+a-n,i="-".concat(t,"-").concat(c,"+").concat(a,"-").concat(n,"=?")):"-"===s&&("+"===l?(e=-t-c-a+n,i="-".concat(t,"-").concat(c,"-").concat(a,"+").concat(n,"=?")):"-"===l&&(e=-t-c-a-n,i="-".concat(t,"-").concat(c,"-").concat(a,"-").concat(n,"=?")))));return i},F=function(e,t){var c=e-.5+Math.random()*(t-e+1);return Math.round(c)},M=function(){var e=window.getComputedStyle(document.querySelector(".answer-bar")).width;N.current&&(clearInterval(N.current),document.querySelectorAll(".answer-bar").forEach((function(t){t.classList.remove("animate"),t.style.width=e})))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(i,{score:I,isStarted:c}),Object(l.jsx)("div",{className:"w-100 bg-info d-flex justify-content-center align-items-center",style:{height:"calc(100vh - 50px)",userSelect:"none"},children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"header-game text-center",children:[Object(l.jsx)("img",{src:u,alt:"calculate",style:{width:"20vw"},draggable:"false"}),Object(l.jsxs)("div",{className:"text-white header-example",children:[g.slice(0,g.length-1),Object(l.jsx)("span",{children:g[g.length-1]})]})]}),Object(l.jsxs)("div",{className:"answer-block",style:{maxWidth:"450px",margin:"0 auto"},children:[Object(l.jsx)(d,{num:1,handleAnswer:E}),Object(l.jsx)(d,{num:2,handleAnswer:E}),Object(l.jsx)(d,{num:3,handleAnswer:E})]})]})}),Object(l.jsx)(h,{isStarted:c,btnStart:function(){n(!0),b(!1),console.log("\u0438\u0433\u0440\u0430 \u043d\u0430\u0447\u0430\u043b\u0430\u0441\u044c"),x(T())}})]})};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))},9:function(e,t,c){}},[[11,1,2]]]);
//# sourceMappingURL=main.39c92b99.chunk.js.map