{"version":3,"sources":["components/Navbar.js","assets/img/calculate.png","components/Answer.js","components/BtnStart.js","components/StartGame.js","App.js","index.js"],"names":["Navbar","score","isStarted","maxScore","localStorage","getItem","className","style","height","href","rel","Answer","num","handleAnswer","onClick","BtnStart","btnStart","type","StartGame","textAlign","App","useState","setIsStarted","isClick","setIsClick","example","setExample","answer","setAnswer","setScore","idTimeInterval","useRef","idInterval","startTime","endGame","countScore","cleaning","replace","document","querySelector","classList","add","setTimeout","current","Date","now","remove","newExample","generateExample","cleanExample1","slice","length","cleanExample2","split","reverse","join","querySelectorAll","forEach","el","timeInterval","setInterval","console","log","timerPercent","maxWidth","window","getComputedStyle","width","numMaxWidth","parseInt","match","toFixed","extra","randomInteger","setItem","clearInterval","num1","num2","num3","num4","sign","signNum","indexOf","min","max","rand","Math","random","round","userSelect","src","calc","alt","draggable","fontSize","fontWeight","margin","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cf1d1d92.chunk.js","sourcesContent":["const Navbar = ({ score, isStarted }) => {\r\n  const maxScore = localStorage.getItem('maxScore') && localStorage.getItem('maxScore')\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-light bg-dark\" style={{ height: \"50px\" }}>\r\n      <div className=\"container-fluid\">\r\n        <a className=\"navbar-brand text-white\" href=\"https://github.com/Ksooft\" rel=\"noopener noreferrer\">Github</a>\r\n        <span className=\"navbar-brand mb-0 h1 text-white\">{isStarted ? score : '1+2=3'}</span>\r\n        <span className=\"navbar-brand mb-0 fs-5 text-white record\">Рекорд: {maxScore}</span>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","export default __webpack_public_path__ + \"static/media/calculate.e55fc469.png\";","const Answer = ({ num, handleAnswer }) => {\r\n  return (\r\n    <div className=\"answer\" onClick={() => handleAnswer(num)}>\r\n      <div className=\"answer-bar\">{num}</div>\r\n      <div className=\"answer-text text-white\">{num}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Answer\r\n","const BtnStart = ({ btnStart}) => {\r\n  return (\r\n    <button type=\"button\" className=\"btn btn-success btn-lg\" onClick={btnStart}>Начать игру!</button>\r\n  )\r\n}\r\n\r\nexport default BtnStart\r\n","import BtnStart from './BtnStart'\r\n\r\nconst StartGame = ({ isStarted, btnStart }) => {\r\n  return (\r\n    <div className={`start-game ${!isStarted && 'open'}`}>\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <div className=\"h1 text-white pb-5\">Думаешь это очень просто?</div>\r\n        <BtnStart btnStart={btnStart} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StartGame\r\n","import { useState, useRef } from 'react'\nimport Navbar from './components/Navbar';\nimport calc from './assets/img/calculate.png'\nimport Answer from './components/Answer';\nimport StartGame from './components/StartGame';\n\nfunction App() {\n  const [isStarted, setIsStarted] = useState(false)\n  const [isClick, setIsClick] = useState(false)\n  const [example, setExample] = useState('3-1=?')\n  const [answer, setAnswer] = useState(null)\n  const [score, setScore] = useState(0)\n  const idTimeInterval = useRef()\n  const idInterval = useRef()\n  const startTime = useRef()\n\n  const btnStart = () => {\n    setIsStarted(true)\n    setIsClick(false)\n    console.log('игра началась');\n    setScore(0)\n    setExample(generateExample()) \n  }\n\n  const handleAnswer = num => {\n    if (num === answer && !isClick) {\n      setIsClick(true)\n      countScore()\n      \n      cleaning()\n      setExample(example.replace('?', answer))\n      document.querySelector('.header-game img').classList.add('es')\n      document.querySelector('.header-game span').classList.add('right')\n      setTimeout(() => {\n        startTime.current = Date.now()\n        document.querySelector('.header-game img').classList.remove('es')\n        document.querySelector('.header-game span').classList.remove('right')\n        let newExample = generateExample()\n        const cleanExample1 = newExample.slice(0, newExample.length - 2)\n        const cleanExample2 = example.slice(0, example.length - 2)\n        if (cleanExample1 === cleanExample2 || cleanExample1.split('').reverse().join('') === cleanExample2 ) {\n          while (newExample === example) {\n            newExample = generateExample()\n          }\n          setExample(newExample)\n        } else {\n          setExample(newExample)\n        }\n\n        document.querySelectorAll('.answer-bar').forEach(el => {\n          el.classList.add('animate')\n        });\n\n        const timeInterval = setInterval(() => {\n          let timePassed = Date.now() - startTime.current;\n          if (timePassed >= 4200) {\n            console.log('не успел')\n            endGame()\n          }\n        }, 1);\n        idTimeInterval.current = timeInterval\n\n        const timerPercent = setInterval(() => {\n          const maxWidth = window.getComputedStyle(document.querySelector('.answer-block')).width\n          const numMaxWidth = parseInt(maxWidth.match(/\\d+/)).toFixed()\n          const width = window.getComputedStyle(document.querySelector('.answer-bar')).width\n          const numWidth = parseInt(width.match(/\\d+/))\n          const percent = ((numWidth * 100) / numMaxWidth).toFixed()\n          if (percent <= 50) {\n            document.querySelectorAll('.answer-text').forEach(el => {\n              el.classList.add('half')\n            });\n          }\n        }, 10);\n        idInterval.current = timerPercent\n        setIsClick(false)\n      }, 1600);\n    } else if (num !== answer && !isClick) {\n      endGame()\n    }\n  }\n\n  const countScore = () => {\n    if (score < 35) {\n      const extra = randomInteger(4, 6)\n      \n      if (!localStorage.getItem('maxScore')) {\n        localStorage.setItem('maxScore', score + extra)\n      } else if (localStorage.getItem('maxScore')) {\n        (score + extra) > localStorage.getItem('maxScore') && localStorage.setItem('maxScore', score + extra)\n      }\n      setScore(score + extra)\n    } else if (score > 35) {\n      const extra = randomInteger(6, 10)\n      \n      if (!localStorage.getItem('maxScore')) {\n        localStorage.setItem('maxScore', score + extra)\n      } else if (localStorage.getItem('maxScore')) {\n        (score + extra) > localStorage.getItem('maxScore') && localStorage.setItem('maxScore', score + extra)\n      }\n      setScore(score + extra)\n    }\n  } \n\n  const endGame = () => {\n    setIsClick(true)\n    document.querySelector('.header-game img').classList.add('wrong')\n    clearInterval(idTimeInterval.current)\n    \n    clearInterval(idInterval.current)\n    setTimeout(() => {\n      document.querySelector('.header-game img').classList.remove('wrong')\n      document.querySelectorAll('.answer-text').forEach(el => {\n        el.classList.remove('half')\n      });\n      document.querySelectorAll('.answer-bar').forEach(el => {\n        el.classList.remove('animate')\n      });\n      setIsStarted(false)\n      setScore(0)\n      console.log('игра закончена');\n    }, 1500);\n  }\n\n  const generateExample = () => {\n    let answer = null\n    let num1 = null\n    let num2 = null\n    let num3 = null\n    let num4 = null\n    let sign = ''\n    let signNum = ''\n    if (score < 31) {\n      while ([1, 2, 3].indexOf(answer) === -1) {\n        num1 = randomInteger(1, 3)\n        num2 = randomInteger(1, 3)\n        sign = randomInteger(1, 2) === 1 ? '+' : '-'\n        if (sign === '+') {\n          answer = num1 + num2\n        } else if (sign === '-') {\n          answer = num1 - num2\n        }\n        // console.log(answer, num1, num2, sign)\n      }\n      setAnswer(answer)\n      return `${num1}${sign}${num2}=?`\n    } else if (score > 31) {\n      while ([1, 2, 3].indexOf(answer) === -1) {\n        num1 = randomInteger(1, 3)\n        num2 = randomInteger(1, 3)\n        num3 = randomInteger(1, 3)\n        num4 = randomInteger(1, 3)\n        sign = randomInteger(1, 2) === 1 ? '+' : '-'\n        signNum = randomInteger(1, 2) === 1 ? '+' : '-'\n        if (sign === '+') {\n          if (signNum === '+') {\n           answer = num1 - num2 + num3 - num4\n          } else if (signNum === '-') {\n            answer = num1 - num2 - num3 + num4\n          }\n        } else if (sign === '-') {\n          if (signNum === '+') {\n            answer = -num1 + num2 - num3 + num4\n          } else if (signNum === '-') {\n            answer = -num1 + num2 + num3 - num4\n          }\n        }\n      }\n      setAnswer(answer)\n      return `${sign === '-' ? '-' : ''}${num1}${sign === '+' ? '-' : '+'}${num2}${sign === '+' && signNum === '+' \n      ? '+' \n      : sign === '+' && signNum === '-' \n      ? '-'\n      : sign === '-' && signNum === '+'\n      ? '-'\n      : sign === '-' && signNum === '-'\n      && '+'}${num3}${sign === '+' && signNum === '+' \n      ? '-' \n      : sign === '+' && signNum === '-' \n      ? '+'\n      : sign === '-' && signNum === '+'\n      ? '+'\n      : sign === '-' && signNum === '-'\n      && '-'}${num4}=?`\n    }\n  }\n\n  const randomInteger = (min, max) => {\n    const rand = min - 0.5 + Math.random() * (max - min + 1)\n    return Math.round(rand)\n  }\n\n  const cleaning = () => {\n    if (idTimeInterval.current) {\n      clearInterval(idTimeInterval.current)\n      document.querySelectorAll('.answer-bar').forEach(el => {\n        el.classList.remove('animate')\n      });\n    }\n    if (idInterval.current) {\n      clearInterval(idInterval.current)\n      document.querySelectorAll('.answer-text').forEach(el => {\n        el.classList.remove('half')\n      });\n    }\n  }\n\n  return (\n    <>\n      <Navbar score={score} isStarted={isStarted} />\n      <div className=\"w-100 bg-info d-flex justify-content-center align-items-center\" style={{ height: \"calc(100vh - 50px)\", userSelect: \"none\" }}>\n          <div className=\"container\">\n              <div className=\"header-game text-center\">\n                <img src={calc} alt=\"calculate\" style={{ width: \"20vw\" }} draggable=\"false\" />\n                <div className=\"text-white\" style={{ fontSize: \"5.5vw \", fontWeight: 500 }}>{example.slice(0, example.length - 1)}<span>{example[example.length - 1]}</span></div>\n              </div>\n              <div className=\"answer-block\" style={{ maxWidth: \"450px\", margin: \"0 auto\" }}>\n                <Answer num={1} handleAnswer={handleAnswer} />\n                <Answer num={2} handleAnswer={handleAnswer} />\n                <Answer num={3} handleAnswer={handleAnswer} />\n              </div>\n          </div>\n      </div>\n      <StartGame isStarted={isStarted} btnStart={btnStart} />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}